<style>
	.asteriskField {
		color: red;
	}
</style>
<link rel="stylesheet" href="/static/css/style.css"/>
<div class="container">
	<form class="form" role="search">
		<div class="editor-panel">
			<div class="btn-editor-panel">
				<a class="btn btn-close-modal btn-warning glyphicon glyphicon-arrow-left" href="#"></a>
				<button type="submit" class="btn btn-success glyphicon glyphicon-floppy-save pull-right"></button>
			</div>
		</div>
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-6 col-sm-6 col-xs-12 col-centered">
					<h2 style="text-align: center; width: 100%">Settings</h2><br />
					<div class="form-group ">
						<label class="control-label requiredField" for="codeBlockMaxWeight">
							Code block Size
							<span class="asteriskField">*</span>
						</label>
						<input class="form-control" id="codeBlockMaxWeight" data-key="CODE_BLOCK_MAX_HEIGHT" name="prop" type="number"/>
					</div>
					<div class="form-group ">
						<label class="control-label requiredField" for="mobileCodeBlockMaxSize">
							Mobile code block size
							<span class="asteriskField">*</span>
						</label>
						<input class="form-control" id="mobileCodeBlockMaxSize" data-key="MOBILE_CODE_BLOCK_MAX_HEIGHT" name="prop" type="number"/>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>

<script>
$('.btn-close-modal').on('dblclick' + (mg.defaults.debug ? ' click' : ''), function () {
	$(".modal-editor").addClass("hidden");
});
$.ajax({
	url: '/api/v2.0/settings/map'
}).done(function(data){
	$("form input").each(function(){
		var that = $(this);
		var prop = data[that.data('key')];
		if(prop != null){
			that.val(prop.value);
		}
	})
}).error(function(error){
	// TODO EFS fazer isso buscar de um template
	$(container).html("Error on load " + url + "<br/>" + error);
});
</script>
